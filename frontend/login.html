<!DOCTYPE html>
<html>
<head>
  <title>Dashboard</title>
</head>
<body>

<h1>Dashboard</h1>
<p id="userInfo"></p>
<button onclick="logout()">Logout</button>

<script type="module">
  import { requireLogin, logout } from "./assets/js/auth.js";

  const user = await requireLogin();
  if (user) {
    document.getElementById("userInfo").innerText =
      `Logged in as: ${user.user} (${user.role})`;
  }

  window.logout = logout;
</script>

</body>
</html>
